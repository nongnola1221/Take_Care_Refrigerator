# 개발 일지: 냉장고 요리사

## 프로젝트 개요

- **프로젝트명:** 자취생을 위한 냉장고 요리사
- **개발 기간:** 2025-10-25
- **목표:** 보유 식재료 기반 레시피 추천을 통한 음식물 쓰레기 최소화 및 식생활 편의 증진

---

## 개발 과정 (Today)

### Task 1: 프로젝트 초기 설정 및 백엔드 구조 설계

- **작업 내용:** Node.js/Express 프로젝트 초기화, PostgreSQL 연동 설정, User 모델 및 인증 API 기본 구조 설계.
- **Gemini CLI 사용 프롬프트:**
  > "Node.js와 Express, Sequelize ORM을 사용하여 PostgreSQL 데이터베이스와 연동되는 REST API 서버의 기본 구조를 생성해줘. 'users' 테이블(id, email, password_hash)을 포함하고, JWT 기반의 회원가입(/api/auth/register) 및 로그인(/api/auth/login) 엔드포인트를 만들어줘."
- **결과 및 수정사항:** Gemini가 생성한 기본 코드는 잘 작동했으나, 비밀번호 해싱 로직에 bcrypt 라이브러리를 직접 추가하고, 환경 변수 관리를 위해 dotenv 설정을 보강함.
- **학습 내용:** Sequelize ORM의 모델 정의와 마이그레이션 개념에 대해 학습함.

### Task 2: 프론트엔드 환경 설정 및 기본 구조 생성

- **작업 내용:** Vite를 이용한 React(TypeScript) 프로젝트 생성, Tailwind CSS, Framer Motion, React Router 설치 및 설정.
- **Gemini CLI 사용 프롬프트:**
  > "Vite를 사용해 'refrigerator-chef'라는 이름의 React-TypeScript 프로젝트를 생성하고, Tailwind CSS와 Framer Motion을 설치 및 설정하는 셸 명령어를 순서대로 알려줘."
- **결과 및 수정사항:** `tailwind.config.js`와 `index.css` 설정이 정확하게 완료됨. `BrowserRouter`를 `HashRouter`로 변경하여 GitHub Pages 배포에 대응함.
- **학습 내용:** Vite의 빠른 개발 서버 속도와 HMR(Hot Module Replacement)의 장점을 확인함. GitHub Pages 배포 시 라우팅 처리 방법을 학습함.

### Task 3: 재고 관리 기능 구현 (Full-Stack)

- **작업 내용:** 재고 목록(Inventory)에 대한 CRUD 기능을 백엔드 API와 프론트엔드 UI에 걸쳐 구현. Zustand를 사용한 상태 관리, Framer Motion을 활용한 애니메이션 적용.
- **Gemini CLI 사용 프롬프트:**
  > "InventoryList 컴포넌트를 만들어줘. 이 컴포넌트는 Zustand 스토어에서 재고 목록을 가져와서 표시하고, 각 아이템을 삭제하는 기능이 있어야 해. 삭제 시에는 Framer Motion의 AnimatePresence를 사용해서 부드럽게 사라지는 애니메이션을 적용해줘."
- **결과 및 수정사항:** 프롬프트에 따라 컴포넌트를 생성하고, 백엔드 API 연동을 위해 Axios를 설치하고 API 클라이언트를 설정함. 초기 목업 데이터를 실제 API 호출로 변경.
- **학습 내용:** Zustand를 활용한 비동기 상태 관리 및 API 연동 패턴을 학습함.

### Task 4: 데이터베이스 문제 해결 및 시딩

- **작업 내용:** 로컬 PostgreSQL 서버 접속 오류 해결 및 초기 데이터(레시피, 재료) 입력을 위한 시드 스크립트 작성 및 실행.
- **Gemini CLI 사용 프롬프트:**
  > 사용자와의 대화를 통해 문제 해결. `brew services start postgresql@18`, `createdb refrigerator_chef` 등의 명령어를 안내하고, 사용자의 `whoami` 결과값을 받아 `.env` 파일을 수정함.
- **결과 및 수정사항:** 사용자의 로컬 환경에 맞는 PostgreSQL 실행 및 설정 방법을 찾아 문제를 해결하고, 데이터베이스 시딩을 성공적으로 완료함.
- **학습 내용:** 로컬 개발 환경의 DDL, DML 스크립트 작성 및 실행 방법을 익힘.

### Task 5: 레시피 추천 엔진 구현 (Backend)

- **작업 내용:** TF-IDF와 코사인 유사도를 이용한 레시피 추천 알고리즘을 백엔드에 구현. `natural` 라이브러리를 사용하여 핵심 로직을 작성.
- **Gemini CLI 사용 프롬프트:**
  > "섹션 3의 핵심 알고리즘 명세에 따라, 사용자의 재고와 모든 레시피 간의 코사인 유사도를 계산하여 최적의 레시피를 추천하는 API 엔드포인트를 만들어줘."
- **결과 및 수정사항:** `natural` 라이브러리의 특성을 고려하여, 각 비교마다 TF-IDF 인스턴스를 생성하는 방식으로 로직을 수정하여 정확도를 높임. 재료가 하나도 없는 경우에 대한 예외 처리를 추가함.
- **학습 내용:** 콘텐츠 기반 필터링 추천 시스템의 기본 원리와 TF-IDF 알고리즘의 실제 구현 방법을 학습함.

### Task 6: 인증 시스템 연동 (Full-Stack)

- **작업 내용:** 백엔드 API에 JWT 토큰 기반 인증 미들웨어를 추가하고, 프론트엔드의 로그인/회원가입 페이지와 API 연동. 인증 상태에 따라 UI가 동적으로 변경되도록 구현.
- **Gemini CLI 사용 프롬프트:**
  > "백엔드의 보호된 라우트에 적용할 JWT 인증 미들웨어를 만들어줘. 그리고 프론트엔드의 로그인 페이지에서 이메일과 비밀번호를 받아 로그인을 요청하고, 성공 시 토큰을 저장하는 Zustand 스토어를 만들어줘."
- **결과 및 수정사항:** Axios 인터셉터를 설정하여 API 요청 헤더에 자동으로 인증 토큰이 포함되도록 리팩토링함. 이를 통해 코드 중복을 줄이고 유지보수성을 향상시킴.
- **학습 내용:** JWT 인증 플로우와 클라이언트-서버 간 인증 상태 관리 방법을 익힘.

### Task 7: 부가 기능 구현 (보관팁, 요리 기록, 푸시 알림)

- **작업 내용:** 레시피 카드에 '보관법 보기', '요리 완료' 버튼을 추가하고 관련 API를 연동. 푸시 알림 구독을 위한 프론트엔드 로직 및 서비스 워커 설정.
- **Gemini CLI 사용 프롬프트:**
  > "RecipeCard 컴포넌트에 버튼을 추가하고, 클릭 시 각각 스토리지 팁을 가져오는 API와 요리 완료를 기록하는 API를 호출하도록 만들어줘."
- **결과 및 수정사항:** 푸시 알림 구독 로직에 VAPID 공개 키를 환경 변수로 분리해야 한다는 주석을 추가하여 실제 배포 시 필요한 작업을 명시함.
- **학습 내용:** Service Worker의 기본 개념과 Push API 사용법을 학습함.